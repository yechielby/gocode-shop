(this["webpackJsonpgocode-shop"]=this["webpackJsonpgocode-shop"]||[]).push([[0],{29:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c.n(n),r=c(15),s=c.n(r),a=(c(29),c(22)),l=c(12),o=c(6),u=c(1),d=Object(n.createContext)();function j(e){var t=e.children,c=Object(n.useState)([]),i=Object(o.a)(c,2),r=i[0],s=i[1],j=Object(n.useState)(!1),b=Object(o.a)(j,2),h=b[0],O=b[1];return Object(u.jsx)(d.Provider,{value:{cart:r,addItemFromCart:function(e){var t;r.find((function(t){return t.id===e.id}))?t=r.map((function(t){return t.id===e.id?Object(l.a)(Object(l.a)({},t),{},{count:++t.count}):t})):1===(t=[].concat(Object(a.a)(r),[Object(l.a)(Object(l.a)({},e),{},{count:1})])).length&&O(!0),s(t)},removeItemFromCart:function(e){var t;r.find((function(t){return t.id===e.id&&t.count>1}))?t=r.map((function(t){return t.id===e.id?Object(l.a)(Object(l.a)({},t),{},{count:--t.count}):t})):(1===r.length&&O(!1),t=r.filter((function(t){return t.id!==e.id}))),s(t)},removeProductFromCart:function(e){1===r.length&&O(!1);var t=r.filter((function(t){return t.id!==e.id}));s(t)},showCart:h,setShowCart:O},children:t})}function b(){return Object(n.useContext)(d)}var h=c(13),O=c(3);c(31),c(32);var m=function(e){var t=e.setShowCart,c=e.countItems;function i(){var e=document.getElementById("swing");e.classList.remove("swing"),setTimeout((function(){e.classList.add("swing")}),100)}return Object(n.useEffect)((function(){i()}),[c]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("nav",{className:"product-filter",children:[Object(u.jsxs)("div",{id:"swing",className:"cart-icon swing items-".concat(c),onClick:function(){t(!0),i()},children:["\ud83d\uded2",Object(u.jsx)("span",{children:c})]}),Object(u.jsx)("h1",{children:"My Online Store"})]})})},x=c(55);c(33);var v=function(e){var t,c=e.product,n=b(),i=n.cart,r=n.addItemFromCart,s=n.removeItemFromCart,a=i.length&&(null===(t=i.find((function(e){return e.id===c.id})))||void 0===t?void 0:t.count)||0;return Object(u.jsxs)("div",{className:"product-card",children:[Object(u.jsxs)("div",{className:"product-image",children:[Object(u.jsx)("img",{src:c.image,alt:c.title,title:c.description}),Object(u.jsxs)("div",{className:"counts",children:[Object(u.jsx)("span",{className:"plus",onClick:function(){return r(c)},children:"+"}),Object(u.jsx)("span",{className:"number",children:a}),Object(u.jsx)("span",{className:a?"minus":"minus display",onClick:function(){return s(c)},children:"\u2212"})]})]}),Object(u.jsxs)("div",{className:"product-info",children:[Object(u.jsx)(h.b,{to:"/products/".concat(c.id),children:Object(u.jsx)("h5",{children:c.title})}),Object(u.jsxs)("h6",{children:["$",c.price.toFixed(2)]})]})]})};c(39);var f=function(){return Object(u.jsx)("div",{className:"example",children:Object(u.jsx)("span",{className:"smooth spinner"})})};c(40);var p=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],i=t[1],r=Object(n.useState)(""),s=Object(o.a)(r,2),a=s[0],l=s[1],d=Object(n.useState)("id"),j=Object(o.a)(d,2),b=j[0],h=j[1],O=Object(n.useState)("1"),m=Object(o.a)(O,2),p=m[0],g=m[1],N=Object(n.useState)([0,1e3]),C=Object(o.a)(N,2),F=C[0],S=C[1];Object(n.useEffect)((function(){fetch("/api/products").then((function(e){return e.json()})).then((function(e){i(e)}))}),[]);var w=c.map((function(e){return e.category})).filter((function(e,t,c){return c.indexOf(e)===t})),y=c.filter((function(e){return e.category===a||!a.length})).map((function(e){return{value:e.price,label:""}})).sort((function(e,t){return e.value>t.value?1:t.value>e.value?-1:0}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"sort",children:[Object(u.jsxs)("div",{className:"collection-sort",children:[Object(u.jsx)("label",{children:"Filter by:"}),Object(u.jsxs)("select",{onChange:function(e){return function(e){l(e)}(e.target.value)},children:[Object(u.jsx)("option",{value:"",children:"All Category"}),w.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))]})]}),Object(u.jsxs)("div",{className:"collection-sort",children:[Object(u.jsx)("label",{children:"Sort by:"}),Object(u.jsxs)("select",{onChange:function(e){return function(e){var t=e.split(","),c=Object(o.a)(t,2),n=c[0],i=c[1];h(n),g(i)}(e.target.value)},children:[Object(u.jsx)("option",{value:"id,1",children:"Featured"}),Object(u.jsx)("option",{value:"id,-1",children:"New Arrival"}),Object(u.jsx)("option",{value:"title,1",children:"Alphabetically, A-Z"}),Object(u.jsx)("option",{value:"title,-1",children:"Alphabetically, Z-A"}),Object(u.jsx)("option",{value:"price,1",children:"Price, low to high"}),Object(u.jsx)("option",{value:"price,-1",children:"Price, high to low"})]})]})]}),Object(u.jsx)("div",{className:"slider",children:y.length>0&&Object(u.jsx)(x.a,{value:F,onChange:function(e,t){S(t)},"aria-labelledby":"range-slider",getAriaValueText:function(e){return"".concat(e,"$")},marks:y,defaultValue:[y[0].value,y[y.length-1].value],min:y[0].value,max:y[y.length-1].value,valueLabelDisplay:"on"})}),Object(u.jsxs)("section",{className:"products",children:[!c.length&&Object(u.jsx)(f,{}),c.filter((function(e){return e.category===a||!a.length})).filter((function(e){return F[0]<=e.price&&e.price<=F[1]})).sort((function(e,t){return(e[b]>t[b]?1:-1)*p})).map((function(e){return Object(u.jsx)(v,{product:e},e.id)}))]})]})};c(41);var g=function(){var e,t=Object(O.f)().id,c=Object(n.useState)(),i=Object(o.a)(c,2),r=i[0],s=i[1],a=b(),l=a.cart,d=a.addItemFromCart,j=a.removeItemFromCart,m=l.length&&(null===(e=l.find((function(e){return e.id===+t})))||void 0===e?void 0:e.count)||0;return Object(n.useEffect)((function(){fetch("/api/products/".concat(t)).then((function(e){return e.json()})).then((function(e){s(e)}))}),[t]),Object(u.jsx)("div",{children:r?Object(u.jsxs)("div",{className:"product-card product-details",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(h.b,{to:"/",children:"products"}),"/",t]}),Object(u.jsxs)("div",{className:"product-info",children:[Object(u.jsx)("div",{className:"category",children:r.category}),Object(u.jsx)("h1",{className:"title",children:r.title}),Object(u.jsxs)("div",{className:"price",children:["$",r.price.toFixed(2)]})]}),Object(u.jsxs)("div",{className:"product-image",children:[Object(u.jsx)("img",{src:r.image,alt:r.title,title:r.title}),Object(u.jsxs)("div",{className:"counts",children:[Object(u.jsx)("span",{className:"plus",onClick:function(){return d(r)},children:"+"}),Object(u.jsx)("span",{className:"number",children:m}),Object(u.jsx)("span",{className:m?"minus":"minus display",onClick:function(){return j(r)},children:"\u2212"})]})]}),Object(u.jsx)("div",{className:"product-info",children:Object(u.jsx)("div",{className:"description",children:r.description})})]}):Object(u.jsx)(f,{})})};c(42);var N=function(e){var t=e.product,c=b(),n=c.addItemFromCart,i=c.removeItemFromCart,r=c.removeProductFromCart;return Object(u.jsxs)("div",{className:"cart-item",children:[Object(u.jsxs)("div",{className:"cart-image",children:[Object(u.jsx)("img",{src:t.image,alt:t.title}),Object(u.jsxs)("div",{className:"counts",children:[Object(u.jsx)("span",{className:"plus",onClick:function(){return n(t)},children:"+"}),Object(u.jsx)("span",{className:"number",children:t.count}),Object(u.jsx)("span",{className:t.count?"minus":"minus display",onClick:function(){return i(t)},children:"\u2212"})]})]}),Object(u.jsx)("div",{className:"cart-title",children:t.title}),Object(u.jsxs)("div",{className:"cart-price",children:["$",(t.count*t.price).toFixed(2)]}),Object(u.jsx)("div",{className:"cart-delete-product",onClick:function(){return r(t)},title:"Remove This Product"})]})};c(43);var C=function(e){var t=e.cart,c=e.setShowCart,n=t.reduce((function(e,t){return e+t.count}),0);return Object(u.jsxs)("div",{className:"cart",children:[Object(u.jsxs)("div",{className:"title",children:["Shopping cart (",n," item",n>1&&"s",")",Object(u.jsx)("span",{className:"close",onClick:function(){return c(!1)},children:"\u2715"})]}),Object(u.jsx)("div",{className:"cart-list",children:t.map((function(e){return Object(u.jsx)(N,{product:e},e.id)}))}),Object(u.jsxs)("div",{className:"subtotal",children:[Object(u.jsx)("div",{className:"text",children:"Subtotal"}),Object(u.jsxs)("div",{className:"price",children:["$",t.reduce((function(e,t){return e+t.count*t.price}),0).toFixed(2)]})]})]})};var F=function(){var e=b(),t=e.cart,c=void 0===t?[]:t,n=e.showCart,i=e.setShowCart;return Object(u.jsxs)("div",{className:"App ".concat(n?"openCart":"closeCart"),children:[Object(u.jsx)(m,{setShowCart:i,countItems:c.reduce((function(e,t){return e+t.count}),0)}),Object(u.jsx)("div",{className:"content",children:Object(u.jsx)(h.a,{children:Object(u.jsxs)(O.c,{children:[Object(u.jsx)(O.a,{path:"/products/:id",children:Object(u.jsx)(g,{})}),Object(u.jsx)(O.a,{path:"/",children:Object(u.jsx)(p,{})})]})})}),Object(u.jsx)("div",{className:"sidebar",children:Object(u.jsx)(C,{cart:c,setShowCart:i})})]})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,56)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),i(e),r(e),s(e)}))};s.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(j,{children:Object(u.jsx)(F,{})})}),document.getElementById("root")),S()}},[[44,1,2]]]);
//# sourceMappingURL=main.c4d396b1.chunk.js.map